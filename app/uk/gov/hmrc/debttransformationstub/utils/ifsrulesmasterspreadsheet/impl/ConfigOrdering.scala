/*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package uk.gov.hmrc.debttransformationstub.utils.ifsrulesmasterspreadsheet.impl

object ConfigOrdering {

  /** Avoids reordering existing config in the IFS `application.conf` file. */
  object MainTransSubTransInIfsConfigOrdering extends Ordering[(String, String)] {
    def compare(x: (String, String), y: (String, String)): Int = {
      val indexX = mainTransSubTransInIfsConfig.indexOf(x)
      val indexY = mainTransSubTransInIfsConfig.indexOf(y)

      (indexX, indexY) match {
        case (_, -1) | (-1, _) =>
          // If either is a new entry, use logical ordering.
          // This might not be consistent given that existing entries for the same mainTrans might be out of order,
          //   but there's not much to do there without shuffling the existing config.
          implicitly[Ordering[(String, String)]].compare(x, y)
        case (_, _) =>
          // If both have already been added, compare indexes in config.
          implicitly[Ordering[Int]].compare(indexX, indexY)
      }
    }
  }

  /** This is the order of MainTrans and SubTrans in the IFS `application.conf` file. */
  private lazy val mainTransSubTransInIfsConfig: Vector[(String, String)] = Vector(
    ("5330", "7006"),
    ("5330", "7010"),
    ("5330", "7011"),
    ("5350", "7012"),
    ("5350", "7014"),
    ("5350", "7013"),
    ("1085", "1000"),
    ("1085", "1020"),
    ("1085", "1025"),
    ("1085", "1180"),
    ("1511", "2000"),
    ("1515", "1090"),
    ("1520", "1090"),
    ("1525", "1000"),
    ("1526", "2000"),
    ("1530", "1000"),
    ("1531", "2000"),
    ("1535", "1000"),
    ("1536", "2000"),
    ("1540", "1000"),
    ("1541", "2000"),
    ("1545", "1000"),
    ("1545", "1090"),
    ("1545", "2000"),
    ("1546", "2000"),
    ("2000", "1000"),
    ("2000", "1020"),
    ("2000", "1023"),
    ("2000", "1026"),
    ("2000", "1030"),
    ("2000", "1100"),
    ("2005", "2000"),
    ("2005", "2020"),
    ("2005", "2023"),
    ("2005", "2026"),
    ("2005", "2030"),
    ("2005", "2100"),
    ("2006", "1106"),
    ("2007", "1107"),
    ("2030", "1250"),
    ("2030", "1260"),
    ("2030", "1270"),
    ("2030", "1280"),
    ("2030", "1290"),
    ("2030", "1300"),
    ("2030", "1310"),
    ("2030", "1320"),
    ("2030", "1330"),
    ("2030", "1340"),
    ("2030", "1350"),
    ("2030", "1390"),
    ("2030", "1395"),
    ("2040", "1000"),
    ("2045", "2000"),
    ("2045", "2100"),
    ("2060", "1020"),
    ("2065", "2020"),
    ("2090", "1000"),
    ("2090", "1020"),
    ("2090", "1023"),
    ("2090", "1026"),
    ("2090", "1100"),
    ("2090", "1250"),
    ("2090", "1260"),
    ("2090", "1270"),
    ("2090", "1280"),
    ("2090", "1290"),
    ("2090", "1300"),
    ("2090", "1310"),
    ("2090", "1320"),
    ("2090", "1330"),
    ("2090", "1340"),
    ("2090", "1350"),
    ("2095", "2000"),
    ("2095", "2020"),
    ("2095", "2023"),
    ("2095", "2026"),
    ("2095", "2100"),
    ("2100", "1000"),
    ("2100", "1023"),
    ("2100", "1026"),
    ("2100", "1030"),
    ("2100", "1100"),
    ("2105", "2000"),
    ("2105", "2023"),
    ("2105", "2026"),
    ("2105", "2030"),
    ("2105", "2100"),
    ("2130", "1355"),
    ("2135", "2355"),
    ("2421", "1150"),
    ("1441", "1150"),
    ("4700", "1174"),
    ("4760", "1090"),
    ("4763", "1090"),
    ("4766", "1090"),
    ("4745", "1090"),
    ("4770", "1090"),
    ("4773", "1090"),
    ("4776", "1090"),
    ("4755", "1090"),
    ("4783", "1090"),
    ("4786", "1090"),
    ("4765", "1090"),
    ("4775", "1090"),
    ("4790", "1090"),
    ("4793", "1090"),
    ("4796", "1090"),
    ("4799", "1090"),
    ("4747", "1090"),
    ("4711", "1174"),
    ("7700", "1174"),
    ("7747", "1090"),
    ("7760", "1090"),
    ("7766", "1090"),
    ("7735", "1090"),
    ("7745", "1090"),
    ("7776", "1090"),
    ("7755", "1090"),
    ("7783", "1090"),
    ("7786", "1090"),
    ("7765", "1090"),
    ("7775", "1090"),
    ("7796", "1090"),
    ("7799", "1090"),
    ("4748", "1090"),
    ("4703", "1090"),
    ("4704", "1090"),
    ("4749", "1175"),
    ("4620", "1175"),
    ("4622", "1175"),
    ("4624", "1175"),
    ("4682", "1175"),
    ("4684", "1175"),
    ("4687", "1175"),
    ("4693", "1175"),
    ("4695", "1175"),
    ("4767", "1175"),
    ("4697", "1175"),
    ("4777", "1175"),
    ("4784", "1175"),
    ("4791", "1175"),
    ("4794", "1175"),
    ("4774", "1175"),
    ("4735", "1090"),
    ("4771", "1175"),
    ("4618", "1090"),
    ("3996", "1091"),
    ("3997", "2091"),
    ("2540", "1090"),
    ("2555", "2090"),
    ("2515", "2090"),
    ("2575", "2090"),
    ("2590", "1090"),
    ("2570", "1090"),
    ("2595", "2090"),
    ("2525", "2090"),
    ("1025", "1090"),
    ("2120", "1090"),
    ("2500", "1090"),
    ("1035", "1090"),
    ("2535", "2090"),
    ("1030", "1090"),
    ("2520", "1090"),
    ("2505", "2090"),
    ("2115", "1090"),
    ("2550", "1090"),
    ("2125", "1090"),
    ("2565", "2090"),
    ("1040", "1090"),
    ("2510", "1090"),
    ("2545", "2090"),
    ("2110", "1090"),
    ("2585", "2090"),
    ("2560", "1090"),
    ("2580", "1090"),
    ("2530", "1090"),
    ("1045", "1090")
  )

}
